# flood_vulnerability_wa
Fine scale assessment of riverine flood vulnerability in Washington State

Purpose: The aim of our study is to obtain an accurate estimate of the social determinants of riverine flood vulnerability in Washington State.
We will use parcel data to downscale socioeconomic data from the 2010 census and overlap parcel boundaries with a inland flood hazard model developed by Sampson et al. (2017) for the conterminous US. We hope to better estimate the total population exposed to river flooding in the state, as well as flood vulnerability (driven by e.g., age, family structure, income) and correlates of flood vulnerability (e.g. race and ethnicity).

Workflow description

flood_risk_WA_format.py
To be able to only select residential parcels and assign an owner name and population count to each residential land parcel in Washington, 
the parcel dataset must contain only non-overlapping parcels likely to contain residential units. 
Therefore, the following formatting process is performed:
- Parcels < 5m2 are filtered out
- Remove data from BLM, DNR, and WDFW, which often overlap with county data â€” i.e. only keep parcel data provided by counties.
- Identify areas where multiple polygons overlap, meaning that a single piece of land is associated with multiple records Depending on reason,
solve to keep each surface of land associated with only one polygon.
- Identify and solve duplicate POLYIDs in TaxRoll record
- To do: downscale census population data

ethnicolr_WA_format.py
Filter out and format taxroll records and names associated with each land parcel.
- Remove duplicate taxroll records (when one taxroll record is associated with multiple name records)
- Filter out taxroll records to keep only residential parcels with owner names
- Clean up names: 
  - Identify all records associated with companies and institutions/organizations (including real estate companies, banks, but also churches, etc.)
    to keep only those records with individual owners.
  - Divide owner name in multiple parties when more than one owner (e.g. identify two owners in 'DOE, JOHN & JANE'
  - Extract hereditary suffixes (e.g. JR, SR, etc.) and honorary prefixes (e.g. VANDER, DOS, SAN)
  - Extract nicknames
  - Parse last name of first party
  - To do: parse last name of second party, parse first name of both parties, deal with more county-based exceptions

ethnicolor_WA_analysis.py
To do: use ethnicolr module to identify probability of race and ethnicity for each owner name. 
To do: downscale census race and ethnicity data

flood_risk_WA_analysis.py
Compute flood risk for Washington based on FEMA data and Wing et al. 2017 30-m resolution modeled flood hazard. 
Compare traditional approach to flood risk (FEMA*census blocks and block groups) with new approach (Wing et al. 2017*parcels).
 
Workflow:
1. Python 2.7: ethnicolr_Wa_format.py
2. Python 2.7: downscale_census_WA_format.py
3. Python 2.7: downscale_census_WA_analysis.py
4. Python 3.5: ethnicolr_WA_analysis.py
5. R: wru_WA_analysis
6. Python 2.7: flood_risk_WA_analysis.py
7. Pythoh 2.7: flood_vulnerability_WA_analysis.py
8. R: racemod_calibrate
